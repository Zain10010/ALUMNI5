{% extends "base.html" %}

{% block content %}
<div class="card">
    <h1>{% if alumni %}Edit{% else %}Add{% endif %} Alumni</h1>

    <form method="POST" action="{{ url_for('edit_alumni', id=alumni.id) if alumni else url_for('add_alumni') }}">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            <!-- Basic Information -->
            <div class="form-section">
                <h2>Basic Information</h2>
                <div class="form-group">
                    <label for="first_name">First Name</label>
                    <input type="text" id="first_name" name="first_name" class="form-control" required
                           value="{{ alumni.first_name if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="last_name">Last Name</label>
                    <input type="text" id="last_name" name="last_name" class="form-control" required
                           value="{{ alumni.last_name if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" class="form-control" required
                           value="{{ alumni.email if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" class="form-control"
                           value="{{ alumni.phone if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="date_of_birth">Date of Birth</label>
                    <input type="date" id="date_of_birth" name="date_of_birth" class="form-control"
                           value="{{ alumni.date_of_birth.strftime('%Y-%m-%d') if alumni and alumni.date_of_birth else '' }}">
                </div>

                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" name="gender" class="form-control">
                        <option value="">Select Gender</option>
                        <option value="Male" {% if alumni and alumni.gender == 'Male' %}selected{% endif %}>Male</option>
                        <option value="Female" {% if alumni and alumni.gender == 'Female' %}selected{% endif %}>Female</option>
                        <option value="Other" {% if alumni and alumni.gender == 'Other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
            </div>

            <!-- Education Details -->
            <div class="form-section">
                <h2>Education Details</h2>
                <div class="form-group">
                    <label for="degree">Degree</label>
                    <input type="text" id="degree" name="degree" class="form-control" required
                           value="{{ alumni.degree if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="department">Department/Major</label>
                    <input type="text" id="department" name="department" class="form-control" required
                           value="{{ alumni.department if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="graduation_year">Year of Graduation</label>
                    <input type="number" id="graduation_year" name="graduation_year" class="form-control" required
                           min="1900" max="{{ current_year }}" value="{{ alumni.graduation_year if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="student_id">Student ID/Roll Number</label>
                    <input type="text" id="student_id" name="student_id" class="form-control" required
                           value="{{ alumni.student_id if alumni else '' }}">
                </div>
            </div>

            <!-- Professional Information -->
            <div class="form-section">
                <h2>Professional Information</h2>
                <div class="form-group">
                    <label for="current_employer">Current Employer</label>
                    <input type="text" id="current_employer" name="current_employer" class="form-control"
                           value="{{ alumni.current_employer if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="job_title">Job Title</label>
                    <input type="text" id="job_title" name="job_title" class="form-control"
                           value="{{ alumni.job_title if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="industry">Industry/Sector</label>
                    <input type="text" id="industry" name="industry" class="form-control"
                           value="{{ alumni.industry if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="years_of_experience">Years of Experience</label>
                    <input type="number" id="years_of_experience" name="years_of_experience" class="form-control"
                           min="0" value="{{ alumni.years_of_experience if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="linkedin">LinkedIn Profile URL</label>
                    <input type="url" id="linkedin" name="linkedin" class="form-control"
                           value="{{ alumni.linkedin if alumni else '' }}">
                </div>
            </div>

            <!-- Location -->
            <div class="form-section">
                <h2>Location</h2>
                <div class="form-group">
                    <label for="current_city">Current City</label>
                    <input type="text" id="current_city" name="current_city" class="form-control"
                           value="{{ alumni.current_city if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="state">State/Province</label>
                    <input type="text" id="state" name="state" class="form-control"
                           value="{{ alumni.state if alumni else '' }}">
                </div>

                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" id="country" name="country" class="form-control"
                           value="{{ alumni.country if alumni else '' }}">
                </div>
            </div>

            <!-- Skills and Interests -->
            <div class="form-section">
                <h2>Skills and Interests</h2>
                <div class="form-group">
                    <label for="technical_skills">Technical Skills (comma-separated)</label>
                    <textarea id="technical_skills" name="technical_skills" class="form-control" rows="3"
                              placeholder="e.g., Python, Java, Web Development">{{ alumni.technical_skills if alumni else '' }}</textarea>
                </div>

                <div class="form-group">
                    <label for="languages_known">Languages Known (comma-separated)</label>
                    <textarea id="languages_known" name="languages_known" class="form-control" rows="3"
                              placeholder="e.g., English, Spanish, French">{{ alumni.languages_known if alumni else '' }}</textarea>
                </div>

                <div class="form-group">
                    <label for="areas_of_interest">Areas of Interest (comma-separated)</label>
                    <textarea id="areas_of_interest" name="areas_of_interest" class="form-control" rows="3"
                              placeholder="e.g., AI, Marketing, Finance">{{ alumni.areas_of_interest if alumni else '' }}</textarea>
                </div>
            </div>
        </div>

        <div style="margin-top: 2rem; text-align: right;">
            <a href="{{ url_for('alumni_list') }}" class="btn btn-danger" style="margin-right: 1rem;">Cancel</a>
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>
</div>

<script>
// Set max year for graduation year input
document.getElementById('graduation_year').max = new Date().getFullYear();
</script>
{% endblock %} 